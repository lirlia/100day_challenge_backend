# Day55: サイバーパンク 3D スペースシューター PROGRESS

## 作業工程

- [X] 1. **プロジェクト初期化**
    - [X] `template` から `day55_cyberpunk_shooter` ディレクトリを作成。
    - [X] `package.json` の `name` を変更。
    - [X] 必要なライブラリ (Three.js, R3F, Drei, Cannon-es, Zustand など) をインストール。
    - [X] 基本的な Next.js ページ (`app/page.tsx`) と 3D シーンの雛形を作成。
- [X] 2. **基本シーンと自機実装**
    - [X] `Canvas` コンポーネントを設置し、基本的なライティングとカメラを設定。
    - [X] サイバーパンク風の背景（シンプルなスカイボックスや床面）を作成。
    - [X] プレイヤー機の3Dモデルを作成・表示。
    - [X] マウス/キーボード入力で自機を左右に移動させる処理を実装 (物理エンジンなしでまずはR3Fのposition変更)。
- [X] 3. **弾の発射と敵機の基本実装**
    - [X] 自機から弾を発射する処理を実装。
    - [X] シンプルな敵機モデルを作成し、画面奥から直進してくるように配置。
    - [X] 基本的な衝突判定 (自機の弾と敵機) を実装 (Three.js の AABB)。
    - [X] 敵機撃墜時のシンプルなエフェクト（仮）とスコア加算処理。
- [X] 4. **物理エンジンの統合 (Cannon-es)**
    - [X] 基本的な3Dシーンの動作確認とWebGLエラーの修正。
    - [X] シンプルなテストキューブの回転アニメーション実装
    - [X] 基本的なライティングとカメラ設定
    - [X] Stars背景の実装
- [X] 5. **ゲームロジックと状態管理 (Zustand)**
    - [X] ゲームステート (待機中, プレイ中, ゲームオーバー) を Zustand で管理。
    - [X] ライフシステム、スコアシステムを Zustand に統合。
    - [X] 敵の出現パターンやウェーブ管理。
    - [X] プレイヤー移動、弾の発射、敵との衝突判定を実装。
    - [X] メニュー画面とゲームオーバー画面の実装。
- [ ] 6. **3Dモデルとエフェクトの作り込み**
    - [ ] 自機、敵機のモデルを詳細化。マテリアルやテクスチャを調整。
    - [ ] 爆発エフェクトをパーティクルシステムでリッチにする。
    - [ ] 弾の発射エフェクト、軌跡エフェクトを追加。
    - [ ] ブルームエフェクトなどのポストプロセッシングを導入。
    - [ ] 背景の都市景観をリッチにする。
- [ ] 7. **UI/HUD 実装**
    - [ ] スコア、ライフ、ゲームオーバー表示などを Tailwind CSS でスタイリング。
    - [ ] サイバーパンク風のデザインを適用。
- [ ] 8. **サウンド実装 (オプション)**
    - [ ] BGM と効果音を追加。
- [ ] 9. **調整とテスト**
    - [ ] ゲームバランスの調整 (敵の強さ、出現頻度、自機の性能など)。
    - [ ] 操作性の確認。
    - [ ] パフォーマンスの確認と最適化。
    - [ ] Playwright などで基本的な動作テスト。
- [ ] 10. **ドキュメント作成**
    - [ ] README 更新。
    - [ ] `PROGRESS.md` に作業工程を記載。

# 進捗

## Step 5 完了: ゲームロジックと状態管理 (Zustand)

- ✅ Zustandを使ったゲーム状態管理の実装
- ✅ メニュー、プレイ中、ゲームオーバーの状態遷移
- ✅ プレイヤー移動（マウス）、弾の発射（スペース/クリック）
- ✅ 敵の自動出現とランダム移動
- ✅ 弾と敵、プレイヤーと敵の衝突判定
- ✅ スコアシステムとヘルスシステム
- ✅ ゲームオーバー条件とリスタート機能

次のステップ: 3Dモデルとエフェクトの作り込み


- [ ] 
- [ ] 
- [ ] 
- [ ] 
- [ ] 
- [ ] 
- [ ] 
