"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sharedb_lib_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sharedb/lib/client */ \"(app-pages-browser)/./node_modules/sharedb/lib/client/index.js\");\n/* harmony import */ var rich_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rich-text */ \"(app-pages-browser)/./node_modules/rich-text/index.js\");\n/* harmony import */ var rich_text__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rich_text__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var reconnecting_websocket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! reconnecting-websocket */ \"(app-pages-browser)/./node_modules/reconnecting-websocket/dist/reconnecting-websocket-mjs.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! quill-delta */ \"(app-pages-browser)/./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dynamic */ \"(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! remark-gfm */ \"(app-pages-browser)/../node_modules/remark-gfm/lib/index.js\");\n/* harmony import */ var react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-syntax-highlighter */ \"(app-pages-browser)/../node_modules/react-syntax-highlighter/dist/esm/prism-async-light.js\");\n/* harmony import */ var react_syntax_highlighter_dist_esm_styles_prism__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-syntax-highlighter/dist/esm/styles/prism */ \"(app-pages-browser)/../node_modules/react-syntax-highlighter/dist/esm/styles/prism/ghcolors.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Explicitly target default export for ReactMarkdown\nconst ReactMarkdown = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_react-markdown_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! react-markdown */ \"(app-pages-browser)/../node_modules/react-markdown/index.js\")).then((mod)=>mod.default), {\n    loadableGenerated: {\n        modules: [\n            \"app/page.tsx -> \" + \"react-markdown\"\n        ]\n    },\n    ssr: false\n});\n_c = ReactMarkdown;\n// Keep static import for the theme, or load it dynamically if needed\n\nsharedb_lib_client__WEBPACK_IMPORTED_MODULE_2__.types.register((rich_text__WEBPACK_IMPORTED_MODULE_3___default().type));\nconst WS_URL = \"ws://localhost:8080\"; // WebSocket server URL\nconst PRESENCE_CHANNEL = \"editor-presence\"; // Define a channel name for presence\nfunction Home() {\n    _s();\n    const [hasMounted, setHasMounted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"); // Local editor content (derived from ShareDB)\n    const [clientId, setClientId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Store our client ID\n    const [clientColor, setClientColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Store our color\n    const [remotePresences, setRemotePresences] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}); // Store remote presence data\n    const docRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Ref to store the ShareDB document object\n    const connectionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Ref for ShareDB connection\n    const editorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Ref for the textarea element\n    const applyingServerOp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false); // Flag to prevent feedback loop\n    const presenceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Ref for presence object\n    const localPresenceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Ref for local presence object\n    // Initialize ShareDB connection and document subscription\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[Debug] Setting up ShareDB connection...\");\n        const socket = new reconnecting_websocket__WEBPACK_IMPORTED_MODULE_4__[\"default\"](WS_URL);\n        console.log(\"[Debug] ReconnectingWebSocket instance created:\", socket);\n        // --- Add listener for custom messages (like client_info) ---\n        const handleCustomMessage = (event)=>{\n            try {\n                const data = JSON.parse(event.data);\n                if (data.type === \"client_info\") {\n                    console.log(\"[Debug] Received client_info:\", data);\n                    setClientId(data.clientId);\n                    setClientColor(data.clientColor);\n                }\n            } catch (e) {\n            // Might be a ShareDB message, ignore parse errors here\n            // console.warn('Could not parse message as JSON or unknown type:', event.data);\n            }\n        };\n        socket.addEventListener(\"message\", handleCustomMessage);\n        // --- End of custom message listener ---\n        socket.addEventListener(\"open\", ()=>{\n            console.log(\"[Debug] WebSocket connection opened.\");\n        });\n        socket.addEventListener(\"close\", (event)=>{\n            console.log(\"[Debug] WebSocket connection closed:\", event.code, event.reason);\n        });\n        socket.addEventListener(\"error\", (event)=>{\n            console.error(\"[Debug] WebSocket connection error:\", event);\n        });\n        const connection = new sharedb_lib_client__WEBPACK_IMPORTED_MODULE_2__.Connection(socket);\n        console.log(\"[Debug] ShareDB Connection instance created:\", connection);\n        connectionRef.current = connection;\n        // Get the document\n        const doc = connection.get(\"documents\", \"default\");\n        console.log(\"[Debug] ShareDB document instance obtained:\", doc);\n        docRef.current = doc;\n        console.log(\"[Debug] Calling doc.subscribe...\");\n        doc.subscribe((err)=>{\n            if (err) {\n                console.error(\"[Debug] Failed to subscribe to document:\", err);\n                setIsConnected(false); // Ensure disconnected state on subscribe error\n                return;\n            }\n            console.log(\"[Debug] Successfully subscribed to document\");\n            setIsConnected(true);\n            // Initial document load\n            if (doc.data) {\n                // ShareDB rich-text data is an array of ops (Delta format)\n                // We need plain text for the textarea\n                const initialText = doc.data.ops.map((op)=>op.insert).join(\"\");\n                setText(initialText);\n                console.log(\"Document loaded:\", initialText);\n            } else {\n                console.log(\"Document is empty or not yet loaded\");\n            }\n            // --- Initialize Presence ---\n            if (clientId && connectionRef.current && !presenceRef.current) {\n                console.log(\"[Debug] Initializing presence for client \".concat(clientId));\n                const presence = connectionRef.current.getPresence(PRESENCE_CHANNEL);\n                presenceRef.current = presence;\n                presence.subscribe((err)=>{\n                    if (err) {\n                        console.error(\"[Debug] Failed to subscribe to presence:\", err);\n                        return;\n                    }\n                    console.log(\"[Debug] Successfully subscribed to presence\");\n                    localPresenceRef.current = presence.create(clientId);\n                    console.log(\"[Debug] Local presence created.\");\n                    // Listen for remote presence changes\n                    presence.on(\"receive\", (id, presenceData)=>{\n                        if (id === clientId) return; // Ignore our own presence data\n                        console.log(\"[Debug] Received presence update from \".concat(id, \":\"), presenceData);\n                        setRemotePresences((prev)=>({\n                                ...prev,\n                                [id]: presenceData\n                            }));\n                    });\n                });\n            // Handle remote client leaving (presence destroyed)\n            // Note: ShareDB presence doesn't have a direct 'leave' event per user\n            // We might need server-side logic or check presence map periodically\n            // For now, we rely on the 'receive' event with null data? (Needs verification)\n            // Or, implement a custom leave message from the server.\n            } else {\n                console.warn(\"[Debug] Cannot initialize presence yet. ClientID or Connection missing or presence already initialized.\");\n            }\n        // --- End of Presence initialization ---\n        });\n        // Listen for changes from the server\n        doc.on(\"op\", (op, source)=>{\n            if (source) {\n                console.log(\"[Debug] Ignoring op from self:\", op);\n                return; // Don't apply our own operations\n            }\n            console.log(\"[Debug] Received op from server:\", op);\n            try {\n                applyingServerOp.current = true; // Set flag before applying\n                // Apply op to local state (rich-text ops are deltas)\n                // We need to calculate the new full text based on the delta\n                // This is a simplified approach; a proper rich-text editor would handle this better.\n                // For plain text, applying diffs is complex with rich-text deltas.\n                // Let's refetch the full text for simplicity here, though less efficient.\n                const currentDocData = doc.data; // Get the latest data after the op was applied by ShareDB\n                if (currentDocData === null || currentDocData === void 0 ? void 0 : currentDocData.ops) {\n                    const newText = currentDocData.ops.map((op)=>op.insert).join(\"\");\n                    setText(newText);\n                    console.log(\"Applied server op, new text:\", newText);\n                } else {\n                    console.warn(\"Could not get text from doc data after op\");\n                }\n            } catch (e) {\n                console.error(\"[Debug] Error applying server op:\", e);\n            } finally{\n                applyingServerOp.current = false; // Reset flag\n            }\n        });\n        doc.on(\"error\", (err)=>{\n            console.error(\"[Debug] ShareDB document error:\", err);\n        });\n        // Listen for connection state changes\n        connection.on(\"connected\", ()=>{\n            console.log(\"[Debug] ShareDB state: connected\");\n            setIsConnected(true);\n            // Re-subscribe or ensure subscription is active if needed\n            if (docRef.current && !docRef.current.subscribed) {\n                console.log(\"[Debug] Attempting to re-subscribe...\");\n                docRef.current.subscribe((err)=>{\n                    if (err) console.error(\"[Debug] Error re-subscribing:\", err);\n                    else console.log(\"[Debug] Re-subscribed successfully\");\n                });\n            }\n        });\n        connection.on(\"disconnected\", ()=>{\n            console.log(\"[Debug] ShareDB state: disconnected\");\n            setIsConnected(false);\n        });\n        connection.on(\"error\", (err)=>{\n            console.error(\"[Debug] ShareDB connection error event:\", err);\n            setIsConnected(false);\n        });\n        connection.on(\"connection error\", (err)=>{\n            console.error(\"[Debug] ShareDB connection error (explicit event):\", err);\n            setIsConnected(false);\n        });\n        connection.on(\"state\", (newState, reason)=>{\n            console.log(\"[Debug] ShareDB state changed to: \".concat(newState, \", Reason: \").concat(reason));\n            if (newState === \"disconnected\" || newState === \"closed\" || newState === \"stopped\") {\n                setIsConnected(false);\n            }\n        });\n        // Cleanup on unmount\n        return ()=>{\n            var // Unsubscribe from presence before closing connection\n            _presenceRef_current;\n            console.log(\"Cleaning up ShareDB connection\");\n            (_presenceRef_current = presenceRef.current) === null || _presenceRef_current === void 0 ? void 0 : _presenceRef_current.destroy((err)=>{\n                if (err) console.error(\"[Debug] Error destroying presence:\", err);\n                else console.log(\"[Debug] Presence destroyed.\");\n            });\n            presenceRef.current = null;\n            localPresenceRef.current = null;\n            // Remove custom message listener\n            socket.removeEventListener(\"message\", handleCustomMessage);\n            connection.close();\n            docRef.current = null;\n            connectionRef.current = null;\n            setIsConnected(false);\n        };\n    }, []);\n    // Mount state logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setHasMounted(true);\n    }, []);\n    // Text area selection change handler - submits presence data\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!localPresenceRef.current || !clientId || !clientColor) {\n            // console.log('[Debug] Local presence not ready for select event.');\n            return;\n        }\n        if (editorRef.current) {\n            const { selectionStart, selectionEnd } = editorRef.current;\n            console.log(\"[Debug] Selection changed: Start=\".concat(selectionStart, \", End=\").concat(selectionEnd));\n            const presenceData = {\n                cursor: {\n                    start: selectionStart,\n                    end: selectionEnd\n                },\n                color: clientColor\n            };\n            localPresenceRef.current.submit(presenceData, (err)=>{\n                if (err) {\n                    console.error(\"[Debug] Error submitting presence:\", err);\n                }\n            });\n        }\n    }, [\n        clientId,\n        clientColor\n    ]); // Depend on clientId and clientColor\n    // Text area change handler - submits OT ops to ShareDB\n    const handleTextChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        if (applyingServerOp.current) return; // Don't process change if it came from the server\n        const newText = event.target.value;\n        const doc = docRef.current;\n        const previousText = text; // Use the state value *before* this change as previousText\n        if (!doc || !doc.type) {\n            console.warn(\"[Debug] Doc or doc.type not available in handleTextChange\");\n            return;\n        }\n        // Explicitly check if strings are identical before diffing\n        if (previousText === newText) {\n            console.log(\"[Debug] Texts are identical according to ===, skipping diff.\");\n            setText(newText); // Still update local state if needed (e.g., cursor move)\n            return; // No diff to calculate or submit\n        }\n        // Calculate the diff using Quill Delta\n        const previousDelta = new (quill_delta__WEBPACK_IMPORTED_MODULE_5___default())().insert(previousText);\n        const newDelta = new (quill_delta__WEBPACK_IMPORTED_MODULE_5___default())().insert(newText);\n        const diffDelta = previousDelta.diff(newDelta);\n        console.log(\"[Debug] Diffing Deltas: Previous=\".concat(JSON.stringify(previousDelta), \", New=\").concat(JSON.stringify(newDelta)));\n        console.log(\"[Debug] Calculated Delta diff:\", diffDelta);\n        // Submit the operation if there's a change\n        if (diffDelta && diffDelta.ops && diffDelta.ops.length > 0) {\n            console.log(\"[Debug] Delta diff has ops, attempting to submit...\", diffDelta.ops);\n            try {\n                doc.submitOp(diffDelta.ops); // Submit the calculated Delta ops\n                console.log(\"[Debug] doc.submitOp called successfully with Delta ops.\");\n            } catch (submitError) {\n                console.error(\"[Debug] Error calling doc.submitOp:\", submitError);\n            }\n        } else {\n            console.log(\"[Debug] No ops in diff, not submitting.\");\n        }\n        // Update local state immediately (though ShareDB will eventually send the op back)\n        // This makes the UI feel more responsive.\n        setText(newText);\n    }, [\n        text\n    ]); // Add text to dependency array\n    if (!hasMounted) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n            className: \"flex h-screen justify-center items-center bg-gray-100\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading Editor...\"\n            }, void 0, false, {\n                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                lineNumber: 306,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n            lineNumber: 305,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen bg-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                className: \"bg-black text-white h-12 flex items-center px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"font-bold text-xl text-white\",\n                            children: \"Day9 Collaborative Editor\"\n                        }, void 0, false, {\n                            fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                            lineNumber: 316,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                        lineNumber: 315,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1\"\n                    }, void 0, false, {\n                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                        lineNumber: 318,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm flex items-center h-full\",\n                        children: [\n                            \"Status:\\xa0\",\n                            isConnected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-1 inline-flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"h-2 w-2 rounded-full bg-green-500 mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                        lineNumber: 323,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Connected\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                lineNumber: 322,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-1 inline-flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"h-2 w-2 rounded-full bg-red-500 mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                        lineNumber: 328,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Disconnected\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                lineNumber: 327,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                        lineNumber: 319,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                lineNumber: 314,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-1 overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-1/2 border-r border-gray-200 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-2 px-4 border-b border-gray-200 bg-gray-50 flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-gray-700 font-medium\",\n                                    children: \"MARKDOWN\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                    lineNumber: 340,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                lineNumber: 339,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 flex flex-col bg-gray-50\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    ref: editorRef,\n                                    className: \"flex-1 w-full p-4 border-none resize-none font-mono text-sm outline-none bg-gray-50\",\n                                    value: text,\n                                    onChange: handleTextChange,\n                                    placeholder: \"# Start typing in Markdown...\",\n                                    disabled: !isConnected,\n                                    spellCheck: \"false\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                    lineNumber: 344,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                lineNumber: 342,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                        lineNumber: 338,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-1/2 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-2 px-4 border-b border-gray-200 bg-gray-50 flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-gray-700 font-medium\",\n                                    children: \"PREVIEW\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                    lineNumber: 359,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                lineNumber: 358,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 flex flex-col bg-gray-50\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto bg-gray-50\" // Removed padding classes (py-4 pr-4 pl-8)\n                                    ,\n                                    style: {\n                                        paddingLeft: \"2rem\"\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ReactMarkdown, {\n                                        remarkPlugins: [\n                                            remark_gfm__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n                                        ],\n                                        components: {\n                                            code (param) {\n                                                let { node, inline, className, children, ...props } = param;\n                                                const match = /language-(\\w+)/.exec(className || \"\");\n                                                return !inline && match ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    style: react_syntax_highlighter_dist_esm_styles_prism__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n                                                    language: match[1],\n                                                    PreTag: \"div\",\n                                                    ...props,\n                                                    children: String(children).replace(/\\n$/, \"\")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                                    lineNumber: 381,\n                                                    columnNumber: 23\n                                                }, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                                    className: className,\n                                                    ...props,\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                                    lineNumber: 390,\n                                                    columnNumber: 23\n                                                }, void 0);\n                                            }\n                                        },\n                                        children: text\n                                    }, void 0, false, {\n                                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                        lineNumber: 369,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                    lineNumber: 364,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                                lineNumber: 361,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                        lineNumber: 357,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n                lineNumber: 336,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/noname/Cording/100day_challenge_backend/day9_collaborative_editor/app/page.tsx\",\n        lineNumber: 312,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"EL/Ei5jyGuO/dvjF3tCySOB8gbU=\");\n_c1 = Home;\nvar _c, _c1;\n$RefreshReg$(_c, \"ReactMarkdown\");\n$RefreshReg$(_c1, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZGO29DQUNYd0YsWUFBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBTWpCLDhEQUFDUjt3QkFBSUQsV0FBVTs7MENBQ2IsOERBQUNDO2dDQUFJRCxXQUFVOzBDQUNiLDRFQUFDRztvQ0FBS0gsV0FBVTs4Q0FBNEI7Ozs7Ozs7Ozs7OzBDQUU5Qyw4REFBQ0M7Z0NBQUlELFdBQVU7MENBR2IsNEVBQUNDO29DQUNDRCxXQUFVLG9DQUFvQywyQ0FBMkM7O29DQUN6RlUsT0FBTzt3Q0FBRUMsYUFBYTtvQ0FBTzs4Q0FHN0IsNEVBQUN4Rzt3Q0FDQ3lHLGVBQWU7NENBQUM1RyxrREFBU0E7eUNBQUM7d0NBQzFCNkcsWUFBWTs0Q0FDVmxFLE1BQUssS0FNSjtvREFOSSxFQUFFbUUsSUFBSSxFQUFFQyxNQUFNLEVBQUVmLFNBQVMsRUFBRWdCLFFBQVEsRUFBRSxHQUFHQyxPQU01QyxHQU5JO2dEQU9ILE1BQU1DLFFBQVEsaUJBQWlCQyxJQUFJLENBQUNuQixhQUFhO2dEQUNqRCxPQUFPLENBQUNlLFVBQVVHLHNCQUNoQiw4REFBQ2hILGdFQUFpQkE7b0RBQ2hCd0csT0FBT2xHLHNGQUFRQTtvREFDZjRHLFVBQVVGLEtBQUssQ0FBQyxFQUFFO29EQUNsQkcsUUFBTztvREFDTixHQUFHSixLQUFLOzhEQUVSSyxPQUFPTixVQUFVTyxPQUFPLENBQUMsT0FBTzs7Ozs7MkVBR25DLDhEQUFDNUU7b0RBQUtxRCxXQUFXQTtvREFBWSxHQUFHaUIsS0FBSzs4REFDbENEOzs7Ozs7NENBR1A7d0NBQ0Y7a0RBRUM3Rjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFqQjtHQWpYd0JMO01BQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9wYWdlLnRzeD83NjAzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTaGFyZURCQ2xpZW50IGZyb20gJ3NoYXJlZGIvbGliL2NsaWVudCc7XG5pbXBvcnQgcmljaFRleHQgZnJvbSAncmljaC10ZXh0JztcbmltcG9ydCBSZWNvbm5lY3RpbmdXZWJTb2NrZXQgZnJvbSAncmVjb25uZWN0aW5nLXdlYnNvY2tldCc7XG5pbXBvcnQgRGVsdGEgZnJvbSAncXVpbGwtZGVsdGEnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCByZW1hcmtHZm0gZnJvbSAncmVtYXJrLWdmbSc7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAncmVhY3QtbWFya2Rvd24nO1xuaW1wb3J0IHsgUHJpc21Bc3luY0xpZ2h0IGFzIFN5bnRheEhpZ2hsaWdodGVyIH0gZnJvbSAncmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyJztcbmltcG9ydCB7IFN5bnRheEhpZ2hsaWdodGVyUHJvcHMgfSBmcm9tICdyZWFjdC1zeW50YXgtaGlnaGxpZ2h0ZXInO1xuXG4vLyBFeHBsaWNpdGx5IHRhcmdldCBkZWZhdWx0IGV4cG9ydCBmb3IgUmVhY3RNYXJrZG93blxuY29uc3QgUmVhY3RNYXJrZG93biA9IGR5bmFtaWM8T3B0aW9ucz4oKCkgPT4gaW1wb3J0KCdyZWFjdC1tYXJrZG93bicpLnRoZW4obW9kID0+IG1vZC5kZWZhdWx0KSwgeyBzc3I6IGZhbHNlIH0pO1xuXG4vLyBLZWVwIHN0YXRpYyBpbXBvcnQgZm9yIHRoZSB0aGVtZSwgb3IgbG9hZCBpdCBkeW5hbWljYWxseSBpZiBuZWVkZWRcbmltcG9ydCB7IGdoY29sb3JzIH0gZnJvbSAncmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyL2Rpc3QvZXNtL3N0eWxlcy9wcmlzbSc7XG5cblNoYXJlREJDbGllbnQudHlwZXMucmVnaXN0ZXIocmljaFRleHQudHlwZSk7XG5cbmNvbnN0IFdTX1VSTCA9ICd3czovL2xvY2FsaG9zdDo4MDgwJzsgLy8gV2ViU29ja2V0IHNlcnZlciBVUkxcbmNvbnN0IFBSRVNFTkNFX0NIQU5ORUwgPSAnZWRpdG9yLXByZXNlbmNlJzsgLy8gRGVmaW5lIGEgY2hhbm5lbCBuYW1lIGZvciBwcmVzZW5jZVxuXG4vLyBEZWZpbmUgdHlwZXMgZm9yIHByZXNlbmNlIGRhdGEgKG9wdGlvbmFsIGJ1dCBnb29kIHByYWN0aWNlKVxuaW50ZXJmYWNlIEN1cnNvclByZXNlbmNlIHtcbiAgY3Vyc29yOiB7XG4gICAgc3RhcnQ6IG51bWJlcjtcbiAgICBlbmQ6IG51bWJlcjtcbiAgfTtcbiAgY29sb3I6IHN0cmluZztcbn1cblxudHlwZSBSZW1vdGVQcmVzZW5jZXMgPSBSZWNvcmQ8c3RyaW5nLCBDdXJzb3JQcmVzZW5jZT47XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IFtoYXNNb3VudGVkLCBzZXRIYXNNb3VudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQ29ubmVjdGVkLCBzZXRJc0Nvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0ZXh0LCBzZXRUZXh0XSA9IHVzZVN0YXRlKCcnKTsgLy8gTG9jYWwgZWRpdG9yIGNvbnRlbnQgKGRlcml2ZWQgZnJvbSBTaGFyZURCKVxuICBjb25zdCBbY2xpZW50SWQsIHNldENsaWVudElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpOyAvLyBTdG9yZSBvdXIgY2xpZW50IElEXG4gIGNvbnN0IFtjbGllbnRDb2xvciwgc2V0Q2xpZW50Q29sb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIFN0b3JlIG91ciBjb2xvclxuICBjb25zdCBbcmVtb3RlUHJlc2VuY2VzLCBzZXRSZW1vdGVQcmVzZW5jZXNdID0gdXNlU3RhdGU8UmVtb3RlUHJlc2VuY2VzPih7fSk7IC8vIFN0b3JlIHJlbW90ZSBwcmVzZW5jZSBkYXRhXG4gIGNvbnN0IGRvY1JlZiA9IHVzZVJlZjxTaGFyZURCQ2xpZW50LkRvYyB8IG51bGw+KG51bGwpOyAvLyBSZWYgdG8gc3RvcmUgdGhlIFNoYXJlREIgZG9jdW1lbnQgb2JqZWN0XG4gIGNvbnN0IGNvbm5lY3Rpb25SZWYgPSB1c2VSZWY8U2hhcmVEQkNsaWVudC5Db25uZWN0aW9uIHwgbnVsbD4obnVsbCk7IC8vIFJlZiBmb3IgU2hhcmVEQiBjb25uZWN0aW9uXG4gIGNvbnN0IGVkaXRvclJlZiA9IHVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKTsgLy8gUmVmIGZvciB0aGUgdGV4dGFyZWEgZWxlbWVudFxuICBjb25zdCBhcHBseWluZ1NlcnZlck9wID0gdXNlUmVmKGZhbHNlKTsgLy8gRmxhZyB0byBwcmV2ZW50IGZlZWRiYWNrIGxvb3BcbiAgY29uc3QgcHJlc2VuY2VSZWYgPSB1c2VSZWY8U2hhcmVEQkNsaWVudC5QcmVzZW5jZTxDdXJzb3JQcmVzZW5jZT4gfCBudWxsPihudWxsKTsgLy8gUmVmIGZvciBwcmVzZW5jZSBvYmplY3RcbiAgY29uc3QgbG9jYWxQcmVzZW5jZVJlZiA9IHVzZVJlZjxTaGFyZURCQ2xpZW50LkxvY2FsUHJlc2VuY2U8Q3Vyc29yUHJlc2VuY2U+IHwgbnVsbD4obnVsbCk7IC8vIFJlZiBmb3IgbG9jYWwgcHJlc2VuY2Ugb2JqZWN0XG5cbiAgLy8gSW5pdGlhbGl6ZSBTaGFyZURCIGNvbm5lY3Rpb24gYW5kIGRvY3VtZW50IHN1YnNjcmlwdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbRGVidWddIFNldHRpbmcgdXAgU2hhcmVEQiBjb25uZWN0aW9uLi4uJyk7XG4gICAgY29uc3Qgc29ja2V0ID0gbmV3IFJlY29ubmVjdGluZ1dlYlNvY2tldChXU19VUkwpO1xuICAgIGNvbnNvbGUubG9nKCdbRGVidWddIFJlY29ubmVjdGluZ1dlYlNvY2tldCBpbnN0YW5jZSBjcmVhdGVkOicsIHNvY2tldCk7XG5cbiAgICAvLyAtLS0gQWRkIGxpc3RlbmVyIGZvciBjdXN0b20gbWVzc2FnZXMgKGxpa2UgY2xpZW50X2luZm8pIC0tLVxuICAgIGNvbnN0IGhhbmRsZUN1c3RvbU1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnY2xpZW50X2luZm8nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tEZWJ1Z10gUmVjZWl2ZWQgY2xpZW50X2luZm86JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgc2V0Q2xpZW50SWQoZGF0YS5jbGllbnRJZCk7XG4gICAgICAgICAgICAgICAgc2V0Q2xpZW50Q29sb3IoZGF0YS5jbGllbnRDb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIE1pZ2h0IGJlIGEgU2hhcmVEQiBtZXNzYWdlLCBpZ25vcmUgcGFyc2UgZXJyb3JzIGhlcmVcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgYXMgSlNPTiBvciB1bmtub3duIHR5cGU6JywgZXZlbnQuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlQ3VzdG9tTWVzc2FnZSk7XG4gICAgLy8gLS0tIEVuZCBvZiBjdXN0b20gbWVzc2FnZSBsaXN0ZW5lciAtLS1cblxuICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBXZWJTb2NrZXQgY29ubmVjdGlvbiBvcGVuZWQuJyk7XG4gICAgfSk7XG4gICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbRGVidWddIFdlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZDonLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24pO1xuICAgIH0pO1xuICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVidWddIFdlYlNvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIGV2ZW50KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBuZXcgU2hhcmVEQkNsaWVudC5Db25uZWN0aW9uKHNvY2tldCBhcyBhbnkpO1xuICAgIGNvbnNvbGUubG9nKCdbRGVidWddIFNoYXJlREIgQ29ubmVjdGlvbiBpbnN0YW5jZSBjcmVhdGVkOicsIGNvbm5lY3Rpb24pO1xuICAgIGNvbm5lY3Rpb25SZWYuY3VycmVudCA9IGNvbm5lY3Rpb247XG5cbiAgICAvLyBHZXQgdGhlIGRvY3VtZW50XG4gICAgY29uc3QgZG9jID0gY29ubmVjdGlvbi5nZXQoJ2RvY3VtZW50cycsICdkZWZhdWx0Jyk7XG4gICAgY29uc29sZS5sb2coJ1tEZWJ1Z10gU2hhcmVEQiBkb2N1bWVudCBpbnN0YW5jZSBvYnRhaW5lZDonLCBkb2MpO1xuICAgIGRvY1JlZi5jdXJyZW50ID0gZG9jO1xuXG4gICAgY29uc29sZS5sb2coJ1tEZWJ1Z10gQ2FsbGluZyBkb2Muc3Vic2NyaWJlLi4uJyk7XG4gICAgZG9jLnN1YnNjcmliZSgoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEZWJ1Z10gRmFpbGVkIHRvIHN1YnNjcmliZSB0byBkb2N1bWVudDonLCBlcnIpO1xuICAgICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7IC8vIEVuc3VyZSBkaXNjb25uZWN0ZWQgc3RhdGUgb24gc3Vic2NyaWJlIGVycm9yXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdbRGVidWddIFN1Y2Nlc3NmdWxseSBzdWJzY3JpYmVkIHRvIGRvY3VtZW50Jyk7XG4gICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKTtcbiAgICAgIC8vIEluaXRpYWwgZG9jdW1lbnQgbG9hZFxuICAgICAgaWYgKGRvYy5kYXRhKSB7XG4gICAgICAgICAvLyBTaGFyZURCIHJpY2gtdGV4dCBkYXRhIGlzIGFuIGFycmF5IG9mIG9wcyAoRGVsdGEgZm9ybWF0KVxuICAgICAgICAgLy8gV2UgbmVlZCBwbGFpbiB0ZXh0IGZvciB0aGUgdGV4dGFyZWFcbiAgICAgICAgIGNvbnN0IGluaXRpYWxUZXh0ID0gZG9jLmRhdGEub3BzLm1hcCgob3A6IGFueSkgPT4gb3AuaW5zZXJ0KS5qb2luKCcnKTtcbiAgICAgICAgIHNldFRleHQoaW5pdGlhbFRleHQpO1xuICAgICAgICAgY29uc29sZS5sb2coJ0RvY3VtZW50IGxvYWRlZDonLCBpbml0aWFsVGV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnRG9jdW1lbnQgaXMgZW1wdHkgb3Igbm90IHlldCBsb2FkZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gLS0tIEluaXRpYWxpemUgUHJlc2VuY2UgLS0tXG4gICAgICBpZiAoY2xpZW50SWQgJiYgY29ubmVjdGlvblJlZi5jdXJyZW50ICYmICFwcmVzZW5jZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFtEZWJ1Z10gSW5pdGlhbGl6aW5nIHByZXNlbmNlIGZvciBjbGllbnQgJHtjbGllbnRJZH1gKTtcbiAgICAgICAgICBjb25zdCBwcmVzZW5jZSA9IGNvbm5lY3Rpb25SZWYuY3VycmVudC5nZXRQcmVzZW5jZShQUkVTRU5DRV9DSEFOTkVMKTtcbiAgICAgICAgICBwcmVzZW5jZVJlZi5jdXJyZW50ID0gcHJlc2VuY2U7XG5cbiAgICAgICAgICBwcmVzZW5jZS5zdWJzY3JpYmUoKGVycikgPT4ge1xuICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVidWddIEZhaWxlZCB0byBzdWJzY3JpYmUgdG8gcHJlc2VuY2U6JywgZXJyKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBTdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCB0byBwcmVzZW5jZScpO1xuICAgICAgICAgICAgICBsb2NhbFByZXNlbmNlUmVmLmN1cnJlbnQgPSBwcmVzZW5jZS5jcmVhdGUoY2xpZW50SWQpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBMb2NhbCBwcmVzZW5jZSBjcmVhdGVkLicpO1xuXG4gICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgcmVtb3RlIHByZXNlbmNlIGNoYW5nZXNcbiAgICAgICAgICAgICAgcHJlc2VuY2Uub24oJ3JlY2VpdmUnLCAoaWQsIHByZXNlbmNlRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGlkID09PSBjbGllbnRJZCkgcmV0dXJuOyAvLyBJZ25vcmUgb3VyIG93biBwcmVzZW5jZSBkYXRhXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0RlYnVnXSBSZWNlaXZlZCBwcmVzZW5jZSB1cGRhdGUgZnJvbSAke2lkfTpgLCBwcmVzZW5jZURhdGEpO1xuICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlUHJlc2VuY2VzKHByZXYgPT4gKHsgLi4ucHJldiwgW2lkXTogcHJlc2VuY2VEYXRhIH0pKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBIYW5kbGUgcmVtb3RlIGNsaWVudCBsZWF2aW5nIChwcmVzZW5jZSBkZXN0cm95ZWQpXG4gICAgICAgICAgLy8gTm90ZTogU2hhcmVEQiBwcmVzZW5jZSBkb2Vzbid0IGhhdmUgYSBkaXJlY3QgJ2xlYXZlJyBldmVudCBwZXIgdXNlclxuICAgICAgICAgIC8vIFdlIG1pZ2h0IG5lZWQgc2VydmVyLXNpZGUgbG9naWMgb3IgY2hlY2sgcHJlc2VuY2UgbWFwIHBlcmlvZGljYWxseVxuICAgICAgICAgIC8vIEZvciBub3csIHdlIHJlbHkgb24gdGhlICdyZWNlaXZlJyBldmVudCB3aXRoIG51bGwgZGF0YT8gKE5lZWRzIHZlcmlmaWNhdGlvbilcbiAgICAgICAgICAvLyBPciwgaW1wbGVtZW50IGEgY3VzdG9tIGxlYXZlIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tEZWJ1Z10gQ2Fubm90IGluaXRpYWxpemUgcHJlc2VuY2UgeWV0LiBDbGllbnRJRCBvciBDb25uZWN0aW9uIG1pc3Npbmcgb3IgcHJlc2VuY2UgYWxyZWFkeSBpbml0aWFsaXplZC4nKTtcbiAgICAgIH1cbiAgICAgIC8vIC0tLSBFbmQgb2YgUHJlc2VuY2UgaW5pdGlhbGl6YXRpb24gLS0tXG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZXMgZnJvbSB0aGUgc2VydmVyXG4gICAgZG9jLm9uKCdvcCcsIChvcCwgc291cmNlKSA9PiB7XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tEZWJ1Z10gSWdub3Jpbmcgb3AgZnJvbSBzZWxmOicsIG9wKTtcbiAgICAgICAgICByZXR1cm47IC8vIERvbid0IGFwcGx5IG91ciBvd24gb3BlcmF0aW9uc1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ1tEZWJ1Z10gUmVjZWl2ZWQgb3AgZnJvbSBzZXJ2ZXI6Jywgb3ApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXBwbHlpbmdTZXJ2ZXJPcC5jdXJyZW50ID0gdHJ1ZTsgLy8gU2V0IGZsYWcgYmVmb3JlIGFwcGx5aW5nXG4gICAgICAgIC8vIEFwcGx5IG9wIHRvIGxvY2FsIHN0YXRlIChyaWNoLXRleHQgb3BzIGFyZSBkZWx0YXMpXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBuZXcgZnVsbCB0ZXh0IGJhc2VkIG9uIHRoZSBkZWx0YVxuICAgICAgICAvLyBUaGlzIGlzIGEgc2ltcGxpZmllZCBhcHByb2FjaDsgYSBwcm9wZXIgcmljaC10ZXh0IGVkaXRvciB3b3VsZCBoYW5kbGUgdGhpcyBiZXR0ZXIuXG4gICAgICAgIC8vIEZvciBwbGFpbiB0ZXh0LCBhcHBseWluZyBkaWZmcyBpcyBjb21wbGV4IHdpdGggcmljaC10ZXh0IGRlbHRhcy5cbiAgICAgICAgLy8gTGV0J3MgcmVmZXRjaCB0aGUgZnVsbCB0ZXh0IGZvciBzaW1wbGljaXR5IGhlcmUsIHRob3VnaCBsZXNzIGVmZmljaWVudC5cbiAgICAgICAgY29uc3QgY3VycmVudERvY0RhdGEgPSBkb2MuZGF0YTsgLy8gR2V0IHRoZSBsYXRlc3QgZGF0YSBhZnRlciB0aGUgb3Agd2FzIGFwcGxpZWQgYnkgU2hhcmVEQlxuICAgICAgICBpZiAoY3VycmVudERvY0RhdGE/Lm9wcykge1xuICAgICAgICAgICAgY29uc3QgbmV3VGV4dCA9IGN1cnJlbnREb2NEYXRhLm9wcy5tYXAoKG9wOiBhbnkpID0+IG9wLmluc2VydCkuam9pbignJyk7XG4gICAgICAgICAgICBzZXRUZXh0KG5ld1RleHQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FwcGxpZWQgc2VydmVyIG9wLCBuZXcgdGV4dDonLCBuZXdUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGdldCB0ZXh0IGZyb20gZG9jIGRhdGEgYWZ0ZXIgb3AnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRGVidWddIEVycm9yIGFwcGx5aW5nIHNlcnZlciBvcDpcIiwgZSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFwcGx5aW5nU2VydmVyT3AuY3VycmVudCA9IGZhbHNlOyAvLyBSZXNldCBmbGFnXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkb2Mub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVidWddIFNoYXJlREIgZG9jdW1lbnQgZXJyb3I6JywgZXJyKTtcbiAgICB9KTtcblxuICAgIC8vIExpc3RlbiBmb3IgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VzXG4gICAgY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBTaGFyZURCIHN0YXRlOiBjb25uZWN0ZWQnKTtcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQodHJ1ZSk7XG4gICAgICAgIC8vIFJlLXN1YnNjcmliZSBvciBlbnN1cmUgc3Vic2NyaXB0aW9uIGlzIGFjdGl2ZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGRvY1JlZi5jdXJyZW50ICYmICFkb2NSZWYuY3VycmVudC5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBBdHRlbXB0aW5nIHRvIHJlLXN1YnNjcmliZS4uLicpO1xuICAgICAgICAgICAgZG9jUmVmLmN1cnJlbnQuc3Vic2NyaWJlKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKCdbRGVidWddIEVycm9yIHJlLXN1YnNjcmliaW5nOicsIGVycik7XG4gICAgICAgICAgICAgICAgZWxzZSBjb25zb2xlLmxvZygnW0RlYnVnXSBSZS1zdWJzY3JpYmVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbRGVidWddIFNoYXJlREIgc3RhdGU6IGRpc2Nvbm5lY3RlZCcpO1xuICAgICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgfSk7XG4gICAgY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEZWJ1Z10gU2hhcmVEQiBjb25uZWN0aW9uIGVycm9yIGV2ZW50OicsIGVycik7XG4gICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcbiAgICB9KTtcbiAgICBjb25uZWN0aW9uLm9uKCdjb25uZWN0aW9uIGVycm9yJywgKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVidWddIFNoYXJlREIgY29ubmVjdGlvbiBlcnJvciAoZXhwbGljaXQgZXZlbnQpOicsIGVycik7XG4gICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcbiAgICB9KTtcbiAgICBjb25uZWN0aW9uLm9uKCdzdGF0ZScsIChuZXdTdGF0ZSwgcmVhc29uKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbRGVidWddIFNoYXJlREIgc3RhdGUgY2hhbmdlZCB0bzogJHtuZXdTdGF0ZX0sIFJlYXNvbjogJHtyZWFzb259YCk7XG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcgfHwgbmV3U3RhdGUgPT09ICdjbG9zZWQnIHx8IG5ld1N0YXRlID09PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2xlYW51cCBvbiB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdDbGVhbmluZyB1cCBTaGFyZURCIGNvbm5lY3Rpb24nKTtcbiAgICAgIC8vIFVuc3Vic2NyaWJlIGZyb20gcHJlc2VuY2UgYmVmb3JlIGNsb3NpbmcgY29ubmVjdGlvblxuICAgICAgcHJlc2VuY2VSZWYuY3VycmVudD8uZGVzdHJveSgoZXJyKSA9PiB7XG4gICAgICAgIGlmKGVycikgY29uc29sZS5lcnJvcignW0RlYnVnXSBFcnJvciBkZXN0cm95aW5nIHByZXNlbmNlOicsIGVycik7XG4gICAgICAgIGVsc2UgY29uc29sZS5sb2coJ1tEZWJ1Z10gUHJlc2VuY2UgZGVzdHJveWVkLicpO1xuICAgICAgfSk7XG4gICAgICBwcmVzZW5jZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIGxvY2FsUHJlc2VuY2VSZWYuY3VycmVudCA9IG51bGw7XG5cbiAgICAgIC8vIFJlbW92ZSBjdXN0b20gbWVzc2FnZSBsaXN0ZW5lclxuICAgICAgc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVDdXN0b21NZXNzYWdlKTtcbiAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgIGRvY1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIGNvbm5lY3Rpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIE1vdW50IHN0YXRlIGxvZ2ljXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SGFzTW91bnRlZCh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIC8vIFRleHQgYXJlYSBzZWxlY3Rpb24gY2hhbmdlIGhhbmRsZXIgLSBzdWJtaXRzIHByZXNlbmNlIGRhdGFcbiAgY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghbG9jYWxQcmVzZW5jZVJlZi5jdXJyZW50IHx8ICFjbGllbnRJZCB8fCAhY2xpZW50Q29sb3IpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ1tEZWJ1Z10gTG9jYWwgcHJlc2VuY2Ugbm90IHJlYWR5IGZvciBzZWxlY3QgZXZlbnQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGVkaXRvclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCB9ID0gZWRpdG9yUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbRGVidWddIFNlbGVjdGlvbiBjaGFuZ2VkOiBTdGFydD0ke3NlbGVjdGlvblN0YXJ0fSwgRW5kPSR7c2VsZWN0aW9uRW5kfWApO1xuICAgICAgICBjb25zdCBwcmVzZW5jZURhdGE6IEN1cnNvclByZXNlbmNlID0ge1xuICAgICAgICAgICAgY3Vyc29yOiB7IHN0YXJ0OiBzZWxlY3Rpb25TdGFydCwgZW5kOiBzZWxlY3Rpb25FbmQgfSxcbiAgICAgICAgICAgIGNvbG9yOiBjbGllbnRDb2xvcixcbiAgICAgICAgfTtcbiAgICAgICAgbG9jYWxQcmVzZW5jZVJlZi5jdXJyZW50LnN1Ym1pdChwcmVzZW5jZURhdGEsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVidWddIEVycm9yIHN1Ym1pdHRpbmcgcHJlc2VuY2U6JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICB9LCBbY2xpZW50SWQsIGNsaWVudENvbG9yXSk7IC8vIERlcGVuZCBvbiBjbGllbnRJZCBhbmQgY2xpZW50Q29sb3JcblxuICAvLyBUZXh0IGFyZWEgY2hhbmdlIGhhbmRsZXIgLSBzdWJtaXRzIE9UIG9wcyB0byBTaGFyZURCXG4gIGNvbnN0IGhhbmRsZVRleHRDaGFuZ2UgPSB1c2VDYWxsYmFjaygoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKGFwcGx5aW5nU2VydmVyT3AuY3VycmVudCkgcmV0dXJuOyAvLyBEb24ndCBwcm9jZXNzIGNoYW5nZSBpZiBpdCBjYW1lIGZyb20gdGhlIHNlcnZlclxuXG4gICAgY29uc3QgbmV3VGV4dCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBkb2MgPSBkb2NSZWYuY3VycmVudDtcbiAgICBjb25zdCBwcmV2aW91c1RleHQgPSB0ZXh0OyAvLyBVc2UgdGhlIHN0YXRlIHZhbHVlICpiZWZvcmUqIHRoaXMgY2hhbmdlIGFzIHByZXZpb3VzVGV4dFxuXG4gICAgaWYgKCFkb2MgfHwgIWRvYy50eXBlKSB7IC8vIFJlbW92ZWQgZG9jLmRhdGEgY2hlY2sgaGVyZSwgYXMgd2UgdXNlIHByZXZpb3VzVGV4dCBzdGF0ZVxuICAgICAgICBjb25zb2xlLndhcm4oJ1tEZWJ1Z10gRG9jIG9yIGRvYy50eXBlIG5vdCBhdmFpbGFibGUgaW4gaGFuZGxlVGV4dENoYW5nZScpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRXhwbGljaXRseSBjaGVjayBpZiBzdHJpbmdzIGFyZSBpZGVudGljYWwgYmVmb3JlIGRpZmZpbmdcbiAgICBpZiAocHJldmlvdXNUZXh0ID09PSBuZXdUZXh0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbRGVidWddIFRleHRzIGFyZSBpZGVudGljYWwgYWNjb3JkaW5nIHRvID09PSwgc2tpcHBpbmcgZGlmZi4nKTtcbiAgICAgICAgc2V0VGV4dChuZXdUZXh0KTsgLy8gU3RpbGwgdXBkYXRlIGxvY2FsIHN0YXRlIGlmIG5lZWRlZCAoZS5nLiwgY3Vyc29yIG1vdmUpXG4gICAgICAgIHJldHVybjsgLy8gTm8gZGlmZiB0byBjYWxjdWxhdGUgb3Igc3VibWl0XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBkaWZmIHVzaW5nIFF1aWxsIERlbHRhXG4gICAgY29uc3QgcHJldmlvdXNEZWx0YSA9IG5ldyBEZWx0YSgpLmluc2VydChwcmV2aW91c1RleHQpO1xuICAgIGNvbnN0IG5ld0RlbHRhID0gbmV3IERlbHRhKCkuaW5zZXJ0KG5ld1RleHQpO1xuICAgIGNvbnN0IGRpZmZEZWx0YSA9IHByZXZpb3VzRGVsdGEuZGlmZihuZXdEZWx0YSk7XG5cbiAgICBjb25zb2xlLmxvZyhgW0RlYnVnXSBEaWZmaW5nIERlbHRhczogUHJldmlvdXM9JHtKU09OLnN0cmluZ2lmeShwcmV2aW91c0RlbHRhKX0sIE5ldz0ke0pTT04uc3RyaW5naWZ5KG5ld0RlbHRhKX1gKTtcbiAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBDYWxjdWxhdGVkIERlbHRhIGRpZmY6JywgZGlmZkRlbHRhKTtcblxuICAgIC8vIFN1Ym1pdCB0aGUgb3BlcmF0aW9uIGlmIHRoZXJlJ3MgYSBjaGFuZ2VcbiAgICBpZiAoZGlmZkRlbHRhICYmIGRpZmZEZWx0YS5vcHMgJiYgZGlmZkRlbHRhLm9wcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBEZWx0YSBkaWZmIGhhcyBvcHMsIGF0dGVtcHRpbmcgdG8gc3VibWl0Li4uJywgZGlmZkRlbHRhLm9wcyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2Muc3VibWl0T3AoZGlmZkRlbHRhLm9wcyk7IC8vIFN1Ym1pdCB0aGUgY2FsY3VsYXRlZCBEZWx0YSBvcHNcbiAgICAgICAgY29uc29sZS5sb2coJ1tEZWJ1Z10gZG9jLnN1Ym1pdE9wIGNhbGxlZCBzdWNjZXNzZnVsbHkgd2l0aCBEZWx0YSBvcHMuJyk7XG4gICAgICB9IGNhdGNoIChzdWJtaXRFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbRGVidWddIEVycm9yIGNhbGxpbmcgZG9jLnN1Ym1pdE9wOicsIHN1Ym1pdEVycm9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnW0RlYnVnXSBObyBvcHMgaW4gZGlmZiwgbm90IHN1Ym1pdHRpbmcuJyk7XG4gICAgfVxuICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZSBpbW1lZGlhdGVseSAodGhvdWdoIFNoYXJlREIgd2lsbCBldmVudHVhbGx5IHNlbmQgdGhlIG9wIGJhY2spXG4gICAgLy8gVGhpcyBtYWtlcyB0aGUgVUkgZmVlbCBtb3JlIHJlc3BvbnNpdmUuXG4gICAgc2V0VGV4dChuZXdUZXh0KTtcblxuICB9LCBbdGV4dF0pOyAvLyBBZGQgdGV4dCB0byBkZXBlbmRlbmN5IGFycmF5XG5cbiAgaWYgKCFoYXNNb3VudGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cImZsZXggaC1zY3JlZW4ganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGJnLWdyYXktMTAwXCI+XG4gICAgICAgIDxkaXY+TG9hZGluZyBFZGl0b3IuLi48L2Rpdj5cbiAgICAgIDwvbWFpbj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1zY3JlZW4gYmctd2hpdGVcIj5cbiAgICAgIHsvKiBOYXZpZ2F0aW9uIEJhciAqL31cbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwiYmctYmxhY2sgdGV4dC13aGl0ZSBoLTEyIGZsZXggaXRlbXMtY2VudGVyIHB4LTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXhsIHRleHQtd2hpdGVcIj5EYXk5IENvbGxhYm9yYXRpdmUgRWRpdG9yPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZsZXggaXRlbXMtY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICAgIFN0YXR1czombmJzcDtcbiAgICAgICAgICB7aXNDb25uZWN0ZWQgPyAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaC0yIHctMiByb3VuZGVkLWZ1bGwgYmctZ3JlZW4tNTAwIG1yLTFcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgQ29ubmVjdGVkXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaC0yIHctMiByb3VuZGVkLWZ1bGwgYmctcmVkLTUwMCBtci0xXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIERpc2Nvbm5lY3RlZFxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmF2PlxuXG4gICAgICB7LyogRWRpdG9yIENvbnRhaW5lciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIHsvKiBMZWZ0IFBhbmVsOiBUZXh0IElucHV0IEFyZWEgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLzIgYm9yZGVyLXIgYm9yZGVyLWdyYXktMjAwIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTIgcHgtNCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgYmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMCBmb250LW1lZGl1bVwiPk1BUktET1dOPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgey8qIFJlbW92ZWQgdGhlIGhlYWRlciB3aXRoaW4gdGhlIHBhbmVsICovfVxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIHJlZj17ZWRpdG9yUmVmfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgdy1mdWxsIHAtNCBib3JkZXItbm9uZSByZXNpemUtbm9uZSBmb250LW1vbm8gdGV4dC1zbSBvdXRsaW5lLW5vbmUgYmctZ3JheS01MFwiXG4gICAgICAgICAgICAgIHZhbHVlPXt0ZXh0fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlVGV4dENoYW5nZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIjIFN0YXJ0IHR5cGluZyBpbiBNYXJrZG93bi4uLlwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaXNDb25uZWN0ZWR9XG4gICAgICAgICAgICAgIHNwZWxsQ2hlY2s9XCJmYWxzZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUmlnaHQgUGFuZWw6IFByZXZpZXcgQXJlYSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEvMiBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0yIHB4LTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgZm9udC1tZWRpdW1cIj5QUkVWSUVXPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgey8qIFJlbW92ZWQgdGhlIGhlYWRlciB3aXRoaW4gdGhlIHBhbmVsICovfVxuICAgICAgICAgICAgey8qIEFwcGx5aW5nIGlubGluZSBzdHlsZSB0byB0ZXN0IHBhZGRpbmcgKi99XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gYmctZ3JheS01MFwiIC8vIFJlbW92ZWQgcGFkZGluZyBjbGFzc2VzIChweS00IHByLTQgcGwtOClcbiAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZ0xlZnQ6ICcycmVtJyB9fSAvLyBBZGRlZCBpbmxpbmUgc3R5bGUgZm9yIGxlZnQgcGFkZGluZ1xuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7LyogUmVuZGVyIE1hcmtkb3duIHVzaW5nIFJlYWN0TWFya2Rvd24gKi99XG4gICAgICAgICAgICAgIDxSZWFjdE1hcmtkb3duXG4gICAgICAgICAgICAgICAgcmVtYXJrUGx1Z2lucz17W3JlbWFya0dmbV19XG4gICAgICAgICAgICAgICAgY29tcG9uZW50cz17e1xuICAgICAgICAgICAgICAgICAgY29kZSh7IG5vZGUsIGlubGluZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfToge1xuICAgICAgICAgICAgICAgICAgICBub2RlOiBhbnk7XG4gICAgICAgICAgICAgICAgICAgIGlubGluZT86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT86IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIFtrZXk6IHN0cmluZ106IGFueTtcbiAgICAgICAgICAgICAgICAgIH0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAvbGFuZ3VhZ2UtKFxcdyspLy5leGVjKGNsYXNzTmFtZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhaW5saW5lICYmIG1hdGNoID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxTeW50YXhIaWdobGlnaHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2doY29sb3JzIGFzIGFueX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlPXttYXRjaFsxXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIFByZVRhZz1cImRpdlwiXG4gICAgICAgICAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZyhjaGlsZHJlbikucmVwbGFjZSgvXFxuJC8sICcnKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1N5bnRheEhpZ2hsaWdodGVyPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSB7Li4ucHJvcHN9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgICAgICAgIDwvY29kZT5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RleHR9XG4gICAgICAgICAgICAgIDwvUmVhY3RNYXJrZG93bj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJTaGFyZURCQ2xpZW50IiwicmljaFRleHQiLCJSZWNvbm5lY3RpbmdXZWJTb2NrZXQiLCJEZWx0YSIsImR5bmFtaWMiLCJyZW1hcmtHZm0iLCJQcmlzbUFzeW5jTGlnaHQiLCJTeW50YXhIaWdobGlnaHRlciIsIlJlYWN0TWFya2Rvd24iLCJ0aGVuIiwibW9kIiwiZGVmYXVsdCIsInNzciIsImdoY29sb3JzIiwidHlwZXMiLCJyZWdpc3RlciIsInR5cGUiLCJXU19VUkwiLCJQUkVTRU5DRV9DSEFOTkVMIiwiSG9tZSIsImhhc01vdW50ZWQiLCJzZXRIYXNNb3VudGVkIiwiaXNDb25uZWN0ZWQiLCJzZXRJc0Nvbm5lY3RlZCIsInRleHQiLCJzZXRUZXh0IiwiY2xpZW50SWQiLCJzZXRDbGllbnRJZCIsImNsaWVudENvbG9yIiwic2V0Q2xpZW50Q29sb3IiLCJyZW1vdGVQcmVzZW5jZXMiLCJzZXRSZW1vdGVQcmVzZW5jZXMiLCJkb2NSZWYiLCJjb25uZWN0aW9uUmVmIiwiZWRpdG9yUmVmIiwiYXBwbHlpbmdTZXJ2ZXJPcCIsInByZXNlbmNlUmVmIiwibG9jYWxQcmVzZW5jZVJlZiIsImNvbnNvbGUiLCJsb2ciLCJzb2NrZXQiLCJoYW5kbGVDdXN0b21NZXNzYWdlIiwiZXZlbnQiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb2RlIiwicmVhc29uIiwiZXJyb3IiLCJjb25uZWN0aW9uIiwiQ29ubmVjdGlvbiIsImN1cnJlbnQiLCJkb2MiLCJnZXQiLCJzdWJzY3JpYmUiLCJlcnIiLCJpbml0aWFsVGV4dCIsIm9wcyIsIm1hcCIsIm9wIiwiaW5zZXJ0Iiwiam9pbiIsInByZXNlbmNlIiwiZ2V0UHJlc2VuY2UiLCJjcmVhdGUiLCJvbiIsImlkIiwicHJlc2VuY2VEYXRhIiwicHJldiIsIndhcm4iLCJzb3VyY2UiLCJjdXJyZW50RG9jRGF0YSIsIm5ld1RleHQiLCJzdWJzY3JpYmVkIiwibmV3U3RhdGUiLCJkZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiaGFuZGxlU2VsZWN0Iiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJjdXJzb3IiLCJzdGFydCIsImVuZCIsImNvbG9yIiwic3VibWl0IiwiaGFuZGxlVGV4dENoYW5nZSIsInRhcmdldCIsInZhbHVlIiwicHJldmlvdXNUZXh0IiwicHJldmlvdXNEZWx0YSIsIm5ld0RlbHRhIiwiZGlmZkRlbHRhIiwiZGlmZiIsInN0cmluZ2lmeSIsImxlbmd0aCIsInN1Ym1pdE9wIiwic3VibWl0RXJyb3IiLCJtYWluIiwiY2xhc3NOYW1lIiwiZGl2IiwibmF2Iiwic3BhbiIsInRleHRhcmVhIiwicmVmIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwic3BlbGxDaGVjayIsInN0eWxlIiwicGFkZGluZ0xlZnQiLCJyZW1hcmtQbHVnaW5zIiwiY29tcG9uZW50cyIsIm5vZGUiLCJpbmxpbmUiLCJjaGlsZHJlbiIsInByb3BzIiwibWF0Y2giLCJleGVjIiwibGFuZ3VhZ2UiLCJQcmVUYWciLCJTdHJpbmciLCJyZXBsYWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ })

});