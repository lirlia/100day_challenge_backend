# Day62: Rust JIT コンパイラ with Web Dashboard

## プロジェクト概要
独自の式言語に対するJITコンパイラを実装し、Web Dashboard でリアルタイムに動作を可視化するシステム。

**対象言語**: Rust (新しい言語での学習)  
**特色**: x86-64マシンコード生成、ホットスポット検出、実行統計の可視化

## 実装フェーズ

### Phase 1: プロジェクト設計・初期化 ✅
- [x] プロジェクト構造決定（Rust backend + Next.js frontend）
- [x] 基本ディレクトリ構成とCargo設定
- [x] 言語仕様とAST設計
- [x] READMEとPROGRESS.md作成

### Phase 2: Rustコア実装 ✅
- [x] AST（抽象構文木）モジュール実装
- [x] 字句解析器（Lexer）実装
- [x] 構文解析器（Parser）実装
- [x] インタープリタ実装
- [x] JITプレースホルダ作成
- [x] 全テスト通過確認（16 unit tests + 7 integration tests）

### Phase 3: JITエンジン実装 ✅
- [x] x86-64コード生成器実装
- [x] メモリ管理（実行可能ページ作成・シミュレーション版）
- [x] ホットスポット検出機能
- [x] 実行統計収集システム
- [x] JITキャッシュとマシンコード16進ダンプ機能
- [x] 全テスト通過確認（23 tests全て成功）

### Phase 4: WebAPI実装 🔄
- [ ] Axum REST API サーバー設定
- [ ] 式の実行エンドポイント（/api/execute）
- [ ] 統計情報エンドポイント（/api/stats）
- [ ] JITキャッシュ情報エンドポイント（/api/cache）
- [ ] CORS設定とエラーハンドリング

### Phase 5: フロントエンド実装（Web Dashboard）
- [ ] Next.js プロジェクト基本設定
- [ ] リアルタイム実行インターフェース
- [ ] JIT統計可視化（Chart.js）
- [ ] マシンコード16進ダンプ表示
- [ ] ホットスポット検出可視化

### Phase 6: 統合テスト・デバッグ
- [ ] E2E テスト作成と実行
- [ ] パフォーマンステスト
- [ ] エラーハンドリング改善
- [ ] ドキュメント更新

## 技術仕様

### サポート言語仕様
```rust
// 基本データ型
数値: 42, -10, 999

// 変数
変数代入: x = 42
変数参照: x

// 二項演算
算術演算: +, -, *, /, %
比較演算: ==, !=, <, >, <=, >=

// 関数呼び出し
組み込み関数: fib(n), fact(n), pow(base, exp)

// 条件分岐
if(condition, true_expr, false_expr)
```

### JIT機能
- **ホットスポット検出**: 10回実行でJITコンパイル開始
- **x86-64マシンコード生成**: 最適化された機械語出力
- **実行統計**: 実行時間、コンパイル時間、ヒット率など
- **キャッシュ管理**: 式ごとの個別キャッシングとハッシュ管理

### 実行成果（Phase 3完了時）
- ✅ **23テスト全て成功**
- ✅ **x86-64マシンコード正常生成** (例: 34バイト算術演算コード)
- ✅ **ホットスポット検出機能** (10回実行 → 自動JITコンパイル)
- ✅ **詳細統計情報** (実行回数、コンパイル時間、平均パフォーマンス)
- ✅ **JITキャッシュ管理** (複数式の効率的キャッシング)

### アーキテクチャ
```
Rust Backend (JIT Engine)
├── AST: 抽象構文木
├── Lexer: 字句解析
├── Parser: 構文解析  
├── Interpreter: インタープリタ実行
└── JIT: x86-64コード生成 + ホットスポット検出

Next.js Frontend (Dashboard)
├── 実行インターフェース
├── リアルタイム統計表示
├── マシンコード可視化
└── パフォーマンス分析
```

## 次のステップ
Phase 4: WebAPI実装 でAxumベースのREST APIサーバーを構築予定