# Day62: Rust JIT コンパイラ with Web Dashboard

## 概要

Rustで実装されたJIT（Just-In-Time）コンパイラと、リアルタイム可視化を行うWebダッシュボードのシステムです。簡易数式言語をターゲットとし、実行時の最適化とパフォーマンス分析を体験できます。

## 主な機能

### JITエンジン (Rust)
- **簡易数式言語の解釈実行**: 算術演算、変数、関数呼び出し
- **x86-64マシンコード生成**: 動的なネイティブコード生成
- **ホットスポット検出**: 実行頻度に基づく自動JITコンパイル
- **実行統計収集**: コンパイル時間、実行時間、メモリ使用量の計測

### Web Dashboard (Next.js)
- **リアルタイム監視**: JIT動作状況のライブ表示
- **アセンブリコード表示**: 生成されたマシンコードの可視化
- **パフォーマンス比較**: インタープリタ vs JIT実行の比較グラフ
- **インタラクティブエディタ**: コード入力・実行インターフェース

## 技術スタック

- **バックエンド**: Rust + Axum (REST API)
- **フロントエンド**: Next.js (App Router) + TypeScript
- **スタイリング**: Tailwind CSS v4 (テクノロジカル・ミニマリズム)
- **JIT**: x86-64 アセンブリ生成
- **通信**: RESTful API + リアルタイム更新

## アーキテクチャ

```
┌─────────────────┐    HTTP API    ┌─────────────────┐
│   Web Frontend  │ ◄──────────── │ Rust JIT Engine │
│   (Next.js)     │               │   (Axum Server) │
└─────────────────┘               └─────────────────┘
         │                                  │
         │                                  │
         ▼                                  ▼
┌─────────────────┐               ┌─────────────────┐
│  Dashboard UI   │               │  Code Generator │
│  - 統計グラフ   │               │  - Lexer/Parser │
│  - アセンブリ   │               │  - x86-64 Gen   │
│  - パフォーマンス│               │  - JIT Runtime  │
└─────────────────┘               └─────────────────┘
```

## 対応言語仕様

### 基本演算
```
1 + 2 * 3 - 4 / 2    # 算術演算
x = 42               # 変数代入
y = x + 10           # 変数参照
```

### 関数呼び出し
```
fib(10)              # フィボナッチ数列
fact(5)              # 階乗計算
```

### 条件分岐
```
if(x > 10, x * 2, x + 1)  # if(条件, true時, false時)
```

## JIT最適化

1. **実行回数閾値**: 10回実行でJITコンパイル開始
2. **ホットスポット検出**: 関数レベルでの実行統計
3. **ネイティブコード生成**: x86-64アセンブリへの変換
4. **動的最適化**: 実行時プロファイルに基づく最適化

## 学習ポイント

- **JITコンパイラの内部構造理解**
- **x86-64アセンブリ生成技術**
- **動的最適化アルゴリズム**
- **実行時システムの設計**
- **パフォーマンス分析手法**
- **Rust低レベルプログラミング**

## 起動方法

### バックエンド (Rust)
```bash
cd backend
cargo run
# http://localhost:8080 でAPI起動
```

### フロントエンド (Next.js)
```bash
cd frontend
npm install
npm run dev
# http://localhost:3001 でダッシュボード起動
```

## API エンドポイント

- `POST /api/execute` - コード実行 + 統計取得
- `GET /api/stats` - JIT統計情報
- `GET /api/assembly/{id}` - 生成アセンブリコード
- `POST /api/reset` - 統計リセット

---

**Day62 Challenge**: 本格的なJITコンパイラシステムの実装により、動的最適化とコンパイラ技術の深い理解を目指します。
